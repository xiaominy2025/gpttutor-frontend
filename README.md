# Engent Labs: Active Learning Platform V1.6.6.6

A GPT-powered active learning platform for deeper understanding across multiple domains. Built with React, Vite, and modern web technologies.

## üöÄ V1.6.6.6 Features

### üßπ Bullet Point Sanitization (NEW)
- **Universal Cleanup**: Removes unwanted markdown list markers (`-`, `*`, `‚Ä¢`)
- **Clean Rendering**: Professional appearance without visual artifacts
- **Edge Case Handling**: Robust processing of various input formats
- **Consistent Display**: Uniform formatting across all interactions
- **Applied to**: Follow-up prompts and concepts/tools sections

### üéØ Enhanced Course Selection
- **Dynamic Course Discovery**: Fetches available courses from `/api/courses` endpoint
- **Fallback Course Data**: Works even when backend is unavailable
- **Timeout Protection**: 5-second timeout prevents hanging requests
- **Offline Mode Indicator**: Visual feedback when using cached data
- **Graceful Degradation**: Full functionality maintained regardless of backend status
- **Enhanced Debugging**: Detailed console logging for troubleshooting

### üé® Enhanced Splash Screen
- **Professional Branding**: Engent Labs logo with smooth animations
- **Dynamic Content**: "AI‚ÄëPowered Active Learning" subtitle
- **Colored Tagline**: "Ask Smarter. Think Deeper. Apply Sharper." with color coding:
  - Blue for "Ask Smarter"
  - White for "Think Deeper" 
  - Yellow for "Apply Sharper"
- **Subtle Animations**: Logo fade-in, gradient shifts, and smooth transitions
- **Responsive Design**: Optimized for desktop and mobile displays
- **Auto-dismiss**: Professional 2-3 second display

### üì± Mobile UI Enhancements
- **Mobile Title Support**: Custom `mobile_title` field in metadata
- **Responsive Design**: Optimized layouts for all screen sizes
- **Touch-friendly Interface**: Proper touch targets and spacing
- **Mobile-specific Components**: Compact history dropdown with logo-only display

### üß† Question History System
- **Smart History Management**: Stores last 5 question-answer pairs
- **Dropdown Interface**: Space-efficient history selection
- **Auto-loading**: Click history items to instantly load previous questions
- **Current Question Tracking**: Clear indication of current vs. historical questions
- **Mobile Optimization**: Logo-only display on mobile devices
- **Seamless Integration**: Positioned above Strategic Thinking Lens section

### üîÑ Follow-up Question System
- **Auto-submission**: Click follow-up questions to automatically submit
- **Consistent UX**: Same behavior as history questions
- **Backend Integration**: Questions generated by backend, not frontend
- **Visual Feedback**: Clear indication of clickable follow-up prompts
- **Responsive Design**: Works seamlessly on all devices

### üéØ Course Selection & Management
- **Dynamic Course Loading**: Support for multiple specialized practice labs
- **URL Parameter Routing**: Direct access via `?course=marketing`
- **Course Selector**: Interactive course selection interface
- **Dynamic Content**: Course-specific titles, prompts, and branding
- **Metadata-driven**: Flexible course configuration system

### üìä Answer Processing & Rendering
- **Strategic Thinking Lens**: Core analytical framework display
- **Follow-up Prompts**: Interactive question suggestions
- **Concepts/Tools Section**: Key learning concepts with definitions
- **Markdown Parsing**: Robust parsing of backend responses
- **Section Validation**: Ensures all required sections are present
- **Rejection Handling**: Graceful handling of off-topic questions

### üîç Advanced Processing Features
- **Concept Deduplication**: Case-insensitive duplicate removal
- **Threshold Filtering**: Relevance-based concept filtering
- **Field Priority System**: `conceptsToolsPractice` ‚Üí `concepts` ‚Üí `tools` ‚Üí `practice`
- **Data Format Handling**: Arrays, strings, objects, mixed formats
- **Error Handling**: Graceful fallbacks for missing content

### üé® UI Components

#### Input Field System
- **Floating Design**: Fixed position with smooth animations
- **Auto-resize**: Dynamic height adjustment
- **Placeholder Text**: Course-specific prompts
- **Submit Button**: Clear call-to-action
- **Loading States**: Visual feedback during processing

#### Answer Display System
- **Sectioned Layout**: Organized content presentation
- **Responsive Design**: Adapts to screen size
- **Loading Skeletons**: Smooth loading experience
- **Error States**: Clear error messaging
- **Content Validation**: Ensures meaningful content
- **Rejection Panel**: Special handling for off-topic questions

#### History Dropdown
- **Compact Design**: Space-efficient interface
- **Question Preview**: Shows truncated question text
- **Current Indicator**: Clear current question marking
- **Mobile Optimization**: Logo-only display on small screens
- **Smooth Interactions**: Hover and click animations

### üß™ Comprehensive Testing Suite

#### Unit Tests (35 tests total)
- **Markdown Parser Tests** (8 tests): Section parsing, format handling, error cases
- **Concept Extraction Tests** (27 tests): Threshold evaluation, filtering, deduplication

#### Test Coverage
- **Section Parsing**: Strategic Thinking Lens, Follow-up Prompts, Concepts/Tools
- **Concepts/Tools Parsing**: Multiple format variations and edge cases
- **Error Handling**: Null inputs, missing sections, malformed data
- **Performance Testing**: Threshold evaluation and filtering effectiveness
- **Data Format Handling**: Arrays, strings, objects, mixed formats

### üîå Backend Communication

#### API Integration
- **Query Endpoint**: `/query` for single complete responses
- **Course Discovery**: `/api/courses` for available course IDs
- **Course Metadata**: `/api/course/{courseId}` for course-specific data
- **RESTful Design**: Clean API communication
- **Error Handling**: Robust error management
- **Loading States**: User feedback during requests
- **Response Parsing**: Structured data processing
- **Fallback Mechanisms**: Graceful degradation

#### Request/Response Format
```javascript
// Query Request
{
  "query": "Your question here",
  "course_id": "decision"  // Optional course identifier
}

// Query Response
{
  "status": "success",
  "data": {
    "answer": "Markdown formatted response...",
    "concepts": ["concept1", "concept2"],
    "follow_ups": ["follow up 1", "follow up 2"]
  }
}

// Course Discovery Response
{
  "courses": ["decision", "marketing", "strategy"]
}

// Course Metadata Response
{
  "metadata": {
    "title": "Course Title",
    "short_name": "Short Name",
    "description": "Course description",
    "placeholder": "Example question...",
    "mobile_title": "Mobile Title",
    "sections_titles": ["Section 1", "Section 2", "Section 3"]
  }
}
```

### üéØ Current Practice Labs
- **Decision Lab** (`decision`): Decision-making and negotiation strategies
- **Marketing Lab** (`marketing`): Marketing strategy and positioning
- **Strategy Lab** (`strategy`): Strategic thinking and competitive analysis

## üõ†Ô∏è Technology Stack

- **Frontend**: React 19, Vite 7
- **Styling**: CSS3 with custom design system
- **HTTP Client**: Axios
- **Markdown**: React Markdown
- **Testing**: Vitest (Unit), Playwright (E2E)
- **Build Tool**: Vite
- **Package Manager**: npm

## üì¶ Installation

### Prerequisites
- Node.js 18+ 
- npm or yarn

### Setup
```bash
# Clone the repository
git clone <repository-url>
cd gpttutor-frontend

# Install dependencies
npm install

# Set up environment variables
cp .env.example .env
# Edit .env with your backend URL
VITE_BACKEND_URL=http://localhost:5000

# Start development server
npm run dev
```

## üîß Configuration

### Environment Variables
```env
VITE_BACKEND_URL=http://localhost:5000  # Backend API URL
```

### Backend API Requirements
The frontend expects the following backend endpoints:

#### Required Endpoints
1. **`POST /query`** - Main query endpoint
   - Accepts: `{ query: string, course_id?: string }`
   - Returns: `{ status: string, data: { answer: string, concepts?: string[], follow_ups?: string[] } }`

2. **`GET /api/courses`** - Course discovery
   - Returns: `{ courses: string[] }`

3. **`GET /api/course/{courseId}`** - Course metadata
   - Returns: `{ metadata: { title, short_name, description, placeholder, mobile_title, sections_titles } }`

4. **`GET /health`** - Health check (optional)
   - Returns: Health status

### Course Configuration
Courses are dynamically configured through backend metadata. Each course requires:

```javascript
{
  "title": "Course Full Title",
  "short_name": "Short Name", 
  "description": "Course description",
  "placeholder": "Example question...",
  "mobile_title": "Mobile Title",
  "sections_titles": ["Strategic Thinking Lens", "Follow-up Prompts", "Concepts/Tools"]
}
```

## üåê Deployment

### Vercel Deployment
```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
vercel

# Set environment variables in Vercel dashboard
VITE_BACKEND_URL=https://your-backend-url.com
```

### Netlify Deployment
```bash
# Build the project
npm run build

# Deploy to Netlify
# Upload the dist/ folder or connect your Git repository
```

### Environment Variables for Production
```env
VITE_BACKEND_URL=https://your-production-backend.com
```

## üß™ Testing

### Unit Tests
```bash
npm run test
```

### Build Verification
```bash
npm run build
npm run lint
```

### Test Coverage
- **35 Unit Tests**: All passing
- **Markdown Parser**: 8 tests covering parsing scenarios
- **Concept Extraction**: 27 tests covering filtering and threshold logic
- **Clean Test Suite**: No legacy or outdated tests

## üì± URL Structure

### Course Access
- **Default**: `https://your-domain.com/` (Decision Lab)
- **Marketing**: `https://your-domain.com/?course=marketing`
- **Strategy**: `https://your-domain.com/?course=strategy`
- **Invalid Course**: `https://your-domain.com/?course=invalid` (Shows course selector)

### Course Selector
- **Manual Access**: Automatically shown when no course is selected
- **Invalid Course**: Automatically shown for invalid course IDs

## üé® Customization

### Styling
The platform uses a custom CSS design system with variables:

```css
:root {
  --thinkpal-blue: #1d75da;
  --thinkpal-yellow: #fbe14d;
  --thinkpal-dark: #1c1c1e;
  --thinkpal-gray: #e0e0e0;
  --thinkpal-bg: #fff;
  --thinkpal-radius: 1.1rem;
  --thinkpal-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);
}
```

### Course-Specific Branding
Each course can customize through backend metadata:
- Application title and subtitle
- Mobile-specific titles
- Input field placeholder text
- Section titles and structure
- Course descriptions and examples

## üîÑ Development Workflow

### Adding Features
1. Create feature branch: `git checkout -b feature/new-feature`
2. Implement changes
3. Test thoroughly with `npm test`
4. Update documentation
5. Create pull request

### Version Management
```bash
# Create new version
git tag -a v1.6.6.6 -m "Version 1.6.6.6: Enhanced Course Selection and Bullet Sanitization"

# Push tags
git push origin --tags
```

## üêõ Troubleshooting

### Common Issues

**Backend Connection Error**
- Check `VITE_BACKEND_URL` in `.env`
- Verify backend is running
- Check CORS settings on backend

**Course Not Loading**
- Verify course ID in URL parameter
- Check backend `/api/courses` endpoint
- Clear browser cache

**History Not Working**
- Check browser console for errors
- Verify question history state management
- Ensure backend responses are properly formatted

**Build Errors**
- Update dependencies: `npm update`
- Clear cache: `npm run build --force`
- Check Node.js version compatibility

**Test Failures**
- Run `npm test` to identify issues
- Check for outdated test references
- Verify all dependencies are installed

## üìÑ License

This project is proprietary software. All rights reserved.

## ü§ù Contributing

1. Fork the repository
2. Create feature branch
3. Make changes
4. Add tests
5. Submit pull request

## üìû Support

For support and questions:
- Create an issue in the repository
- Contact the development team
- Check the documentation

---

**Version**: V1.6.6.6  
**Last Updated**: January 2025  
**Status**: Production Ready ‚úÖ  
**Test Status**: 35/35 tests passing ‚úÖ  
**Traditional Mode**: Single-response API calls ‚úÖ
